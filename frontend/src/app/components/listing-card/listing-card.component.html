<a [routerLink]="['/listing', listing.id]" class="listing-card">
  <div class="card-image">
    <img [src]="primaryImage" [alt]="listing.title" loading="lazy">
    @if (listing.status === 'sold') {
      <div class="sold-badge">SOLD</div>
    }
    @if (listing.condition) {
      <span class="condition-badge">{{ listing.condition }}</span>
    }
  </div>
  
  <div class="card-content">
    <div class="card-header">
      <h3 class="card-title">{{ listing.title }}</h3>
      <span class="card-price">${{ listing.price | number:'1.0-2' }}</span>
    </div>
    
    <p class="card-description">{{ listing.description }}</p>
    
    <div class="card-footer">
      <div class="seller-info">
        @if (listing.seller?.profile_image) {
          <img [src]="listing.seller.profile_image" class="seller-avatar" [alt]="listing.seller.first_name">
        } @else {
          <div class="seller-avatar-placeholder">{{ sellerInitials }}</div>
        }
        <span class="seller-name">{{ listing.seller?.first_name }}</span>
      </div>
      
      <div class="card-meta">
        @if (listing.category) {
          <span class="category-tag">{{ listing.category.name }}</span>
        }
      </div>
    </div>
  </div>
</a>
